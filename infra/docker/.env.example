# =============================================================================
# MLRun Environment Configuration
# Copy this file to .env and customize as needed
# =============================================================================

# -----------------------------------------------------------------------------
# Authentication Configuration
# -----------------------------------------------------------------------------
# Bootstrap API key for initial setup (set this to a secure random value)
# Example: MLRUN_API_KEY=mlrun_$(openssl rand -hex 32)
MLRUN_API_KEY=

# Set to "true" to disable authentication (dev mode only!)
# WARNING: Never disable auth in production
MLRUN_AUTH_DISABLED=false

# -----------------------------------------------------------------------------
# ClickHouse Configuration
# -----------------------------------------------------------------------------
CLICKHOUSE_HOST=clickhouse
CLICKHOUSE_PORT=8123
CLICKHOUSE_USER=mlrun
CLICKHOUSE_PASSWORD=mlrun_dev
CLICKHOUSE_DATABASE=mlrun

# -----------------------------------------------------------------------------
# PostgreSQL Configuration
# -----------------------------------------------------------------------------
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=mlrun
POSTGRES_PASSWORD=mlrun_dev
POSTGRES_DATABASE=mlrun
DATABASE_URL=postgres://mlrun:mlrun_dev@postgres:5432/mlrun

# -----------------------------------------------------------------------------
# MinIO Configuration
# -----------------------------------------------------------------------------
MINIO_ENDPOINT=http://minio:9000
MINIO_ACCESS_KEY=mlrun
MINIO_SECRET_KEY=mlrun_dev_secret
MINIO_BUCKET=mlrun-artifacts
MINIO_PATH_STYLE=true
MINIO_REGION=us-east-1
MINIO_PRESIGN_EXPIRY=3600

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://redis:6379

# -----------------------------------------------------------------------------
# API Service Configuration
# -----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_HTTP_PORT=3001
API_GRPC_PORT=50051
RUST_LOG=info,mlrun_api=debug

# -----------------------------------------------------------------------------
# Ingest Mode Configuration
# -----------------------------------------------------------------------------
# direct: write directly to ClickHouse/Postgres (alpha mode)
# queued: use Redis/Kafka queue (future)
INGEST_MODE=direct

# -----------------------------------------------------------------------------
# UI Configuration
# -----------------------------------------------------------------------------
NEXT_PUBLIC_API_URL=http://localhost:3001

# -----------------------------------------------------------------------------
# OpenTelemetry Configuration
# -----------------------------------------------------------------------------
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4317
OTEL_SERVICE_NAME=mlrun
